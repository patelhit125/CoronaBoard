{"version":3,"sources":["views/Vaccination/index.js"],"names":["DATA_URL_STATES","VACCINE_SETU_API","DATA_URL_DISTRICTS","DATA_DISTRICTS","DATA_URL_PINCODE","useStyles","makeStyles","theme","formControl","marginTop","minWidth","textTransform","fontWeight","borderColor","palette","secondary","main","dataCard","secondaryText","color","wordWrap","colorSuccess","success","space","Vaccination","classes","useTheme","React","useState","status","setStatus","valueRadio","setRadioValue","valueStates","setStatesValue","valueDistricts","setDistrictsValue","valuePincode","setPincodeValue","valueDisable","setDisable","isData","setDataData","dataStates","setStates","dataDistricts","setDistricts","dataData","setData","getStates","a","fetch","then","response","json","states","useEffect","container","spacing","gridSpacing","item","xs","variant","align","sm","direction","justify","component","aria-label","name","value","onChange","event","target","control","label","className","id","labelId","districts","getDistricts","Object","keys","map","data","index","key","state_name","disabled","district_id","district_name","noValidate","autoComplete","error","inputMode","onBlur","size","onClick","getDateData","Date","ok","undefined","centers","length","catch","console","log","getDataByPincode","getDataByDistrict","address","pincode","style","backgroundColor","fee_type","warning","sessions","date","min_age_limit","available_capacity_dose1","available_capacity_dose2"],"mappings":"8TAIMA,EAAe,UAAMC,IAAN,0BACfC,EAAkB,UAAMD,IAAN,8BAClBE,EAAc,UAAMF,IAAN,gEACdG,EAAgB,UAAMH,IAAN,uDAEhBI,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,YAAa,CACTC,UAAW,GACXC,SAAU,OACVC,cAAe,OACfC,WAAY,SACZ,4DAA6D,CACzDC,YAAaN,EAAMO,QAAQC,UAAUC,OAG7CC,SAAU,CACNR,UAAW,QAEfS,cAAe,CACXC,MAAOZ,EAAMO,QAAQC,UAAUC,KAC/BI,SAAU,cAEdC,aAAc,CACVF,MAAOZ,EAAMO,QAAQQ,QAAQN,MAEjCO,MAAO,CACHH,SAAU,kBAmOHI,UA/NK,WAChB,IAAMC,EAAUpB,IACVE,EAAQmB,cACd,EAA4BC,IAAMC,SAAS,GAA3C,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAAoCH,IAAMC,SAAS,WAAnD,mBAAOG,EAAP,KAAmBC,EAAnB,KACA,EAAsCL,IAAMC,SAAS,IAArD,mBAAOK,EAAP,KAAoBC,EAApB,KACA,EAA4CP,IAAMC,SAAS,IAA3D,mBAAOO,EAAP,KAAuBC,EAAvB,KACA,EAAwCT,IAAMC,SAAS,IAAvD,mBAAOS,EAAP,KAAqBC,EAArB,KACA,EAAmCX,IAAMC,UAAS,GAAlD,mBAAOW,EAAP,KAAqBC,EAArB,KACA,EAA8Bb,IAAMC,UAAS,GAA7C,mBAAOa,EAAP,KAAeC,GAAf,KACA,GAAgCf,IAAMC,SAAS,IAA/C,qBAAOe,GAAP,MAAmBC,GAAnB,MACA,GAAsCjB,IAAMC,SAAS,IAArD,qBAAOiB,GAAP,MAAsBC,GAAtB,MACA,GAA4BnB,IAAMC,SAAS,IAA3C,qBAAOmB,GAAP,MAAiBC,GAAjB,MAEMC,GAAS,uCAAG,sBAAAC,EAAA,sEACRC,MAAMnD,GACPoD,MAAK,SAACC,GACH,OAAOA,EAASC,UAEnBF,MAAK,SAACE,GACHV,GAAUU,EAAKC,WANT,2CAAH,qDA4Ff,OAJA5B,IAAM6B,WAAU,WACZP,OACD,IAGC,kBAAC,IAAD,CAAMQ,WAAS,EAACC,QAASC,KACrB,kBAAC,IAAD,CAAMC,MAAI,EAACC,GAAI,IACX,kBAAC,IAAD,CAAYC,QAAQ,KAAKC,MAAM,UAA/B,4BAIJ,kBAAC,IAAD,CAAMN,WAAS,EAACC,QAASC,KACrB,kBAAC,IAAD,CAAMC,MAAI,EAACC,GAAI,GAAIG,GAAI,GACnB,kBAAC,IAAD,CAAMP,WAAS,EAACQ,UAAU,SAASC,QAAQ,SAASR,QAASC,KACzD,kBAAC,IAAD,CAAMC,MAAI,EAACC,GAAI,IACX,kBAAC,IAAD,CAAaM,UAAU,YACnB,kBAAC,IAAD,CAAYC,aAAW,SAASC,KAAK,SAASC,MAAOvC,EAAYwC,SA9FnE,SAACC,GACvBxC,EAAcwC,EAAMC,OAAOH,OAEA,aAAvBE,EAAMC,OAAOH,MACbxC,EAAU,GAGVA,EAAU,KAwFc,kBAAC,IAAD,CAAkBwC,MAAM,UAAUI,QAAS,kBAAC,IAAD,CAAOvD,MAAM,YAAcwD,MAAM,YAC5E,kBAAC,IAAD,CAAkBL,MAAM,WAAWI,QAAS,kBAAC,IAAD,CAAOvD,MAAM,YAAcwD,MAAM,gBAIxF9C,EACG,kBAAC,IAAD,CAAM+B,MAAI,EAACC,GAAI,IACX,kBAAC,IAAD,CAAaC,QAAQ,WAAWc,UAAWnD,EAAQjB,aAC/C,kBAAC,IAAD,CAAYqE,GAAG,gBAAf,UACA,kBAAC,IAAD,CACIC,QAAQ,eACRD,GAAG,eACHN,SAxFT,SAACC,GACxBtC,EAAesC,EAAMC,OAAOH,OAC5B9B,GAAW,GACO,uCAAG,sBAAAU,EAAA,sEACXC,MAAMjD,EAAqBsE,EAAMC,OAAOH,OACzClB,MAAK,SAACC,GACH,OAAOA,EAASC,UAEnBF,MAAK,SAACE,GACHR,GAAaQ,EAAKyB,cANT,2CAAH,oDAUlBC,IA4EgCV,MAAOrC,EACP0C,MAAM,UAELM,OAAOC,KAAKvC,IAAYwC,KAAI,SAACC,EAAMC,GAAP,OACzB,kBAAC,IAAD,CAAUC,IAAKD,EAAOf,MAAOc,GAAOzC,GAAWyC,GAAMG,iBAIjE,kBAAC,IAAD,CAAazB,QAAQ,WAAWc,UAAWnD,EAAQjB,YAAagF,SAAUjD,GACtE,kBAAC,IAAD,CAAYsC,GAAG,mBAAf,aACA,kBAAC,IAAD,CACIC,QAAQ,kBACRD,GAAG,kBACHN,SA1GP,SAACC,GAC1BpC,EAAkBoC,EAAMC,OAAOH,QA0GCA,MAAOnC,EACPwC,MAAM,aAELM,OAAOC,KAAKrC,IAAesC,KAAI,SAACC,EAAMC,GAAP,OAC5B,kBAAC,IAAD,CAAUC,IAAKD,EAAOf,MAAOzB,GAAcuC,GAAMK,aAAc5C,GAAcuC,GAAMM,qBAMnG,kBAAC,IAAD,CAAM9B,MAAI,EAACC,GAAI,IACX,0BAAM8B,YAAU,EAACC,aAAa,OAC1B,kBAAC,IAAD,CACIC,MAAOpD,EACPqD,UAAU,UACVlB,UAAWnD,EAAQjB,YACnBqE,GAAG,UACHkB,OAhIR,SAACvB,GACzBlC,EAAgBkC,EAAMC,OAAOH,QAgIGK,MAAM,UACNb,QAAQ,eAKxB,kBAAC,IAAD,CAAMF,MAAI,EAACC,GAAI,IACX,kBAAC,IAAD,CAAQmC,KAAK,QAAQpB,UAAWnD,EAAQjB,YAAasD,QAAQ,YAAY3C,MAAM,UAAU8E,QAhHxF,WACF,YAAflE,EACsB,uCAAG,sBAAAmB,EAAA,sEACfC,MAAM/C,EAAmBiC,EAAe,SAAW6D,YAAY,IAAIC,OACpE/C,MAAK,SAACC,GACH,GAAKA,EAAS+C,GAKV,OADA1D,IAAY,GACLW,EAASC,OAJhBZ,IAAY,MAOnBU,MAAK,SAACE,QACS+C,IAAT/C,GAA4C,IAAtBA,EAAKgD,QAAQC,OAAc7D,IAAY,IAE5DA,IAAY,GACZM,GAAQM,EAAKgD,aAGpBE,OAAM,SAACX,GACJnD,IAAY,GACZ+D,QAAQC,IAAIb,MApBC,2CAAH,oDAwBtBc,GAGuB,uCAAG,sBAAAzD,EAAA,sEAChBC,MAAMhD,EAAiBgC,EAAiB,SAAW+D,YAAY,IAAIC,OACpE/C,MAAK,SAACC,GACH,OAAOA,EAASC,UAEnBF,MAAK,SAACE,GACHN,GAAQM,EAAKgD,YANC,2CAAH,oDAUvBM,KAyEgB,kBAMZ,kBAAC,IAAD,CAAMhD,MAAI,EAACC,GAAI,GAAIG,GAAI,GACjBvB,EAiCE,kBAAC,IAAD,CAAMmC,UAAWnD,EAAQR,UACrB,kBAAC,IAAD,8CAlCGgE,OAAOC,KAAKnC,IAAUoC,KAAI,SAACC,EAAMC,GAAP,OACjC,kBAAC,IAAD,CAAMC,IAAKD,EAAOT,UAAWnD,EAAQR,UACjC,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAMwC,WAAS,GACX,kBAAC,IAAD,CAAMG,MAAI,EAACC,GAAI,EAAGe,UAAWnD,EAAQF,OAChCwB,GAASqC,GAAMf,KAChB,yBAAKO,UAAWnD,EAAQP,eACnB6B,GAASqC,GAAMyB,QADpB,KAC+B9D,GAASqC,GAAMG,WAD9C,MAC6DxC,GAASqC,GAAM0B,UAGhF,kBAAC,IAAD,CAAMlD,MAAI,EAACC,GAAI,EAAGJ,WAAS,EAACS,QAAQ,WAAWU,UAAWnD,EAAQJ,cAC9D,kBAAC,IAAD,CAAO0F,MAAO,CAACC,gBAA6C,SAA5BjE,GAASqC,GAAM6B,SAAsB1G,EAAMO,QAAQoG,QAAQlG,KAAOT,EAAMO,QAAQQ,QAAQN,MAAO2D,MAAO5B,GAASqC,GAAM6B,YAExJhC,OAAOC,KAAKnC,GAASqC,GAAM+B,UAAUhC,KAAI,SAACgC,EAAU9B,GAAX,OACtC,kBAAC,IAAD,CAAMC,IAAKD,EAAO5B,WAAS,EAACmB,UAAWnD,EAAQR,UAC3C,kBAAC,IAAD,CAAM2C,MAAI,EAACC,GAAI,GACVd,GAASqC,GAAM+B,SAASA,GAAUC,MAEvC,kBAAC,IAAD,CAAMxD,MAAI,EAACC,GAAI,EAAGJ,WAAS,EAACS,QAAQ,YAApC,QACUnB,GAASqC,GAAM+B,SAASA,GAAUE,cAD5C,KAGA,kBAAC,IAAD,CAAMzD,MAAI,EAACC,GAAI,EAAGkD,MAAO,CAAC5F,MAAsE,IAA/D4B,GAASqC,GAAM+B,SAASA,GAAUG,yBAAiC/G,EAAMO,QAAQ+E,MAAM7E,KAAOT,EAAMO,QAAQQ,QAAQN,OAArJ,WACa+B,GAASqC,GAAM+B,SAASA,GAAUG,0BAE/C,kBAAC,IAAD,CAAM1D,MAAI,EAACC,GAAI,EAAGkD,MAAO,CAAC5F,MAAsE,IAA/D4B,GAASqC,GAAM+B,SAASA,GAAUI,yBAAiChH,EAAMO,QAAQ+E,MAAM7E,KAAOT,EAAMO,QAAQQ,QAAQN,OAArJ,WACa+B,GAASqC,GAAM+B,SAASA,GAAUI","file":"static/js/8.f00554b6.chunk.js","sourcesContent":["import React from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport { Card, Grid, Typography, FormControl, FormControlLabel, RadioGroup, Radio, InputLabel, MenuItem, Select, TextField, Button, CardContent, Chip } from '@material-ui/core';\nimport { gridSpacing, VACCINE_SETU_API, getDateData } from './../../store/constant';\nconst DATA_URL_STATES = `${VACCINE_SETU_API}/admin/location/states`;\nconst DATA_URL_DISTRICTS = `${VACCINE_SETU_API}/admin/location/districts/`;\nconst DATA_DISTRICTS = `${VACCINE_SETU_API}/appointment/sessions/public/calendarByDistrict?district_id=`;\nconst DATA_URL_PINCODE = `${VACCINE_SETU_API}/appointment/sessions/public/calendarByPin?pincode=`;\n\nconst useStyles = makeStyles((theme) => ({\n    formControl: {\n        marginTop: 10,\n        minWidth: '100%',\n        textTransform: 'none',\n        fontWeight: 'normal',\n        \"& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline\": {\n            borderColor: theme.palette.secondary.main,\n        }\n    },\n    dataCard: {\n        marginTop: '1rem',\n    },\n    secondaryText: {\n        color: theme.palette.secondary.main,\n        wordWrap: 'break-word'\n    },\n    colorSuccess: {\n        color: theme.palette.success.main,\n    },\n    space: {\n        wordWrap: 'break-word'\n    }\n}));\n\nconst Vaccination = () => {\n    const classes = useStyles();\n    const theme = useTheme();\n    const [status, setStatus] = React.useState(0);\n    const [valueRadio, setRadioValue] = React.useState('pincode');\n    const [valueStates, setStatesValue] = React.useState('');\n    const [valueDistricts, setDistrictsValue] = React.useState('');\n    const [valuePincode, setPincodeValue] = React.useState('');\n    const [valueDisable, setDisable] = React.useState(true);\n    const [isData, setDataData] = React.useState(false);\n    const [dataStates, setStates] = React.useState([]);\n    const [dataDistricts, setDistricts] = React.useState([]);\n    const [dataData, setData] = React.useState([]);\n\n    const getStates = async () => {\n        await fetch(DATA_URL_STATES)\n            .then((response) => {\n                return response.json();\n            })\n            .then((json) => {\n                setStates(json.states);\n            })\n    }\n\n    const handleRadioChange = (event) => {\n        setRadioValue(event.target.value);\n\n        if (event.target.value === 'district') {\n            setStatus(1)\n        }\n        else {\n            setStatus(0)\n        }\n    };\n\n    const handlePincodeChange = (event) => {\n        setPincodeValue(event.target.value);\n    };\n\n    const handleDistrictChange = (event) => {\n        setDistrictsValue(event.target.value);\n    };\n\n    const handleStatesChange = (event) => {\n        setStatesValue(event.target.value);\n        setDisable(false);\n        const getDistricts = async () => {\n            await fetch(DATA_URL_DISTRICTS + event.target.value)\n                .then((response) => {\n                    return response.json();\n                })\n                .then((json) => {\n                    setDistricts(json.districts);\n                });\n        }\n\n        getDistricts();\n    };\n\n    const handleCheckSlots = () => {\n        if (valueRadio === 'pincode') {\n            const getDataByPincode = async () => {\n                await fetch(DATA_URL_PINCODE + valuePincode + '&date=' + getDateData(new Date()))\n                    .then((response) => {\n                        if (!response.ok) {\n                            setDataData(true);\n                        }\n                        else {\n                            setDataData(false);\n                            return response.json();\n                        }\n                    })\n                    .then((json) => {\n                        if(json === undefined || json.centers.length===0) { setDataData(true); }\n                        else {\n                            setDataData(false);\n                            setData(json.centers);\n                        }\n                    })\n                    .catch((error) => {\n                        setDataData(true);\n                        console.log(error);\n                    });\n            }\n\n            getDataByPincode();\n        }\n        else {\n            const getDataByDistrict = async () => {\n                await fetch(DATA_DISTRICTS + valueDistricts + '&date=' + getDateData(new Date()))\n                    .then((response) => {\n                        return response.json();\n                    })\n                    .then((json) => {\n                        setData(json.centers);\n                    });\n            }\n\n            getDataByDistrict();\n        }\n    }\n\n    React.useEffect(() => {\n        getStates();\n    }, []);\n\n    return (\n        <Grid container spacing={gridSpacing}>\n            <Grid item xs={12}>\n                <Typography variant=\"h2\" align=\"center\">\n                    Vaccination Slot Finder\n                </Typography>\n            </Grid>\n            <Grid container spacing={gridSpacing}>\n                <Grid item xs={12} sm={3}>\n                    <Grid container direction=\"column\" justify=\"center\" spacing={gridSpacing}>\n                        <Grid item xs={12}>\n                            <FormControl component=\"fieldset\">\n                                <RadioGroup aria-label=\"select\" name=\"select\" value={valueRadio} onChange={handleRadioChange}>\n                                    <FormControlLabel value=\"pincode\" control={<Radio color=\"primary\" />} label=\"Pincode\"  />\n                                    <FormControlLabel value=\"district\" control={<Radio color=\"primary\" />} label=\"District\" />\n                                </RadioGroup>\n                            </FormControl>\n                        </Grid>\n                        {status ? (\n                            <Grid item xs={12}>\n                                <FormControl variant=\"outlined\" className={classes.formControl}>\n                                    <InputLabel id=\"selectStates\">States</InputLabel>\n                                    <Select\n                                        labelId=\"selectStates\"\n                                        id=\"selectStates\"\n                                        onChange={handleStatesChange}\n                                        value={valueStates}\n                                        label=\"States\"\n                                    >\n                                        {Object.keys(dataStates).map((data, index) => (\n                                            <MenuItem key={index} value={data}>{dataStates[data].state_name}</MenuItem>\n                                        ))}\n                                    </Select>\n                                </FormControl>\n                                <FormControl variant=\"outlined\" className={classes.formControl} disabled={valueDisable}>\n                                    <InputLabel id=\"selectDistricts\">Districts</InputLabel>\n                                    <Select\n                                        labelId=\"selectDistricts\"\n                                        id=\"selectDistricts\"\n                                        onChange={handleDistrictChange}\n                                        value={valueDistricts}\n                                        label=\"Districts\"\n                                    >\n                                        {Object.keys(dataDistricts).map((data, index) => (\n                                            <MenuItem key={index} value={dataDistricts[data].district_id}>{dataDistricts[data].district_name}</MenuItem>\n                                        ))}\n                                    </Select>\n                                </FormControl>\n                            </Grid>\n                        ) :\n                            <Grid item xs={12}>\n                                <form noValidate autoComplete=\"off\">\n                                    <TextField\n                                        error={isData}\n                                        inputMode=\"numeric\"\n                                        className={classes.formControl}\n                                        id=\"pincode\"\n                                        onBlur={handlePincodeChange}\n                                        label=\"Pincode\"\n                                        variant=\"outlined\"\n                                    />\n                                </form>\n                            </Grid>\n                        }\n                        <Grid item xs={12}>\n                            <Button size=\"large\" className={classes.formControl} variant=\"contained\" color=\"primary\" onClick={handleCheckSlots}>\n                                Check Slots\n                            </Button>\n                        </Grid>\n                    </Grid>\n                </Grid>\n                <Grid item xs={12} sm={9}>\n                    {!isData ? Object.keys(dataData).map((data, index) => (\n                        <Card key={index} className={classes.dataCard}>\n                            <CardContent>\n                                <Grid container>\n                                    <Grid item xs={9} className={classes.space}>\n                                        {dataData[data].name}\n                                        <div className={classes.secondaryText}>\n                                            {dataData[data].address}, {dataData[data].state_name} - {dataData[data].pincode}\n                                        </div>\n                                    </Grid>\n                                    <Grid item xs={3} container justify=\"flex-end\" className={classes.colorSuccess}>\n                                        <Chip  style={{backgroundColor: dataData[data].fee_type === 'Paid' ? theme.palette.warning.main : theme.palette.success.main}} label={dataData[data].fee_type} />\n                                    </Grid>\n                                    {Object.keys(dataData[data].sessions).map((sessions, index) => (\n                                        <Grid key={index} container className={classes.dataCard}>\n                                            <Grid item xs={6}>\n                                                {dataData[data].sessions[sessions].date}\n                                            </Grid>\n                                            <Grid item xs={6} container justify=\"flex-end\">\n                                                Age: {dataData[data].sessions[sessions].min_age_limit}+\n                                            </Grid>\n                                            <Grid item xs={6} style={{color: dataData[data].sessions[sessions].available_capacity_dose1 === 0 ? theme.palette.error.main : theme.palette.success.main}}>\n                                                Dose 1: {dataData[data].sessions[sessions].available_capacity_dose1}\n                                            </Grid>\n                                            <Grid item xs={6} style={{color: dataData[data].sessions[sessions].available_capacity_dose2 === 0 ? theme.palette.error.main : theme.palette.success.main}}>\n                                                Dose 2: {dataData[data].sessions[sessions].available_capacity_dose2}\n                                            </Grid>\n                                        </Grid>\n                                    ))}\n                                </Grid>\n                            </CardContent>\n                        </Card>\n                    )) :\n                        <Card className={classes.dataCard}>\n                            <CardContent>\n                                No slots available for given pincode\n                            </CardContent>\n                        </Card>\n                    }\n                </Grid>\n            </Grid>\n        </Grid>\n    );\n};\n\nexport default Vaccination;\n"],"sourceRoot":""}